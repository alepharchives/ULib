<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ULib C++ Library: UDSIGContext Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>UDSIGContext Class Reference</h1><!-- doxytag: class="UDSIGContext" --><div class="dynheader">
Collaboration diagram for UDSIGContext:</div>
<div class="dynsection">
<div class="center"><img src="classUDSIGContext__coll__graph.png" border="0" usemap="#UDSIGContext_coll__map" alt="Collaboration graph"/></div>
<map name="UDSIGContext_coll__map" id="UDSIGContext_coll__map">
<area shape="rect" id="node3" href="classUTransformCtx.html" title="UTransformCtx" alt="" coords="17,209,124,237"/><area shape="rect" id="node5" href="classUVector_3_01UString_01_4.html" title="UVector\&lt; UString \&gt;" alt="" coords="5,99,136,127"/><area shape="rect" id="node7" href="classUBaseTransform.html" title="UBaseTransform" alt="" coords="148,209,260,237"/><area shape="rect" id="node9" href="classUString.html" title="UString" alt="" coords="172,99,236,127"/><area shape="rect" id="node12" href="classUStringRep.html" title="UStringRep" alt="" coords="161,6,247,34"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classUDSIGContext-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUDSIGContext.html#aa089cd3eee7389f4d7102a04b4b0c4e5">verify</a> (<a class="el" href="classUXML2Document.html">UXML2Document</a> &amp;document)</td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a11f37e77911099b577021643e168b393"></a><!-- doxytag: member="UDSIGContext::processKeyInfoNode" ref="a11f37e77911099b577021643e168b393" args="()" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>processKeyInfoNode</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUDSIGContext.html#a4b7028c13cef199ff53b5d7ff5e9f7a8">processSignedInfoNode</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUDSIGContext.html#ac7b3a101c21d2668f124f008c197fe12">processObjectNode</a> (xmlNodePtr objectNode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUDSIGContext.html#af64920180839b97c07812bb038a2a2cd">processSignatureNode</a> (xmlNodePtr signature)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUDSIGContext.html#aa763c1d3b0d672a8b6c8936f11012881">processManifestNode</a> (xmlNodePtr manifestNode)</td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab03cbd002ff1def48705e54b412e2db9"></a><!-- doxytag: member="UDSIGContext::status" ref="ab03cbd002ff1def48705e54b412e2db9" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>status</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a85b30993f20ca6b8669372280c1aadfc"></a><!-- doxytag: member="UDSIGContext::operation" ref="a85b30993f20ca6b8669372280c1aadfc" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>operation</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a890cc0bd23b55e6f758901e987929059"></a><!-- doxytag: member="UDSIGContext::enabledReferenceUris" ref="a890cc0bd23b55e6f758901e987929059" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>enabledReferenceUris</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a08ed9997c9c0aa34534fd0eff154ac53"></a><!-- doxytag: member="UDSIGContext::keyInfoNode" ref="a08ed9997c9c0aa34534fd0eff154ac53" args="" -->
xmlNodePtr&nbsp;</td><td class="memItemRight" valign="bottom"><b>keyInfoNode</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a97242fe0feee1942605a590363b0d551"></a><!-- doxytag: member="UDSIGContext::signValueNode" ref="a97242fe0feee1942605a590363b0d551" args="" -->
xmlNodePtr&nbsp;</td><td class="memItemRight" valign="bottom"><b>signValueNode</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adebf95c936baf9e10ffb4567330a7e3b"></a><!-- doxytag: member="UDSIGContext::signedInfoNode" ref="adebf95c936baf9e10ffb4567330a7e3b" args="" -->
xmlNodePtr&nbsp;</td><td class="memItemRight" valign="bottom"><b>signedInfoNode</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9bed113fbe888bb210f1d5f119a3b3f5"></a><!-- doxytag: member="UDSIGContext::id" ref="a9bed113fbe888bb210f1d5f119a3b3f5" args="" -->
const char *&nbsp;</td><td class="memItemRight" valign="bottom"><b>id</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a94f21abc3639d7d9dcf8c406c51e212f"></a><!-- doxytag: member="UDSIGContext::transformCtx" ref="a94f21abc3639d7d9dcf8c406c51e212f" args="" -->
<a class="el" href="classUTransformCtx.html">UTransformCtx</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>transformCtx</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad44477879d7fdd5d672aa31716ec3e5b"></a><!-- doxytag: member="UDSIGContext::signMethod" ref="ad44477879d7fdd5d672aa31716ec3e5b" args="" -->
<a class="el" href="classUBaseTransform.html">UBaseTransform</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>signMethod</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae2736b6e06d1c7f288c06646cc887407"></a><!-- doxytag: member="UDSIGContext::c14nMethod" ref="ae2736b6e06d1c7f288c06646cc887407" args="" -->
<a class="el" href="classUBaseTransform.html">UBaseTransform</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>c14nMethod</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8db3040783b815d49454610072af2755"></a><!-- doxytag: member="UDSIGContext::manifestReferences" ref="a8db3040783b815d49454610072af2755" args="" -->
UVector&lt; <a class="el" href="classUReferenceCtx.html">UReferenceCtx</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>manifestReferences</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab5b0f3ff775b12d7eedfae36a79d0405"></a><!-- doxytag: member="UDSIGContext::signedInfoReferences" ref="ab5b0f3ff775b12d7eedfae36a79d0405" args="" -->
UVector&lt; <a class="el" href="classUReferenceCtx.html">UReferenceCtx</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>signedInfoReferences</b></td></tr>
<tr><td colspan="2"><h2>Static Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a487d4643adb6355221e43905ae3e1d74"></a><!-- doxytag: member="UDSIGContext::pthis" ref="a487d4643adb6355221e43905ae3e1d74" args="" -->
static <a class="el" href="classUDSIGContext.html">UDSIGContext</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>pthis</b></td></tr>
<tr><td colspan="2"><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a388342b5579381a6389289031739e488"></a><!-- doxytag: member="UDSIGContext::UTransformCtx" ref="a388342b5579381a6389289031739e488" args="" -->
class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUDSIGContext.html#a388342b5579381a6389289031739e488">UTransformCtx</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae7bfa72684665f6bf749c9b5e23e1038"></a><!-- doxytag: member="UDSIGContext::UReferenceCtx" ref="ae7bfa72684665f6bf749c9b5e23e1038" args="" -->
class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUDSIGContext.html#ae7bfa72684665f6bf749c9b5e23e1038">UReferenceCtx</a></td></tr>
</table>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aa763c1d3b0d672a8b6c8936f11012881"></a><!-- doxytag: member="UDSIGContext::processManifestNode" ref="aa763c1d3b0d672a8b6c8936f11012881" args="(xmlNodePtr manifestNode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UDSIGContext::processManifestNode </td>
          <td>(</td>
          <td class="paramtype">xmlNodePtr&nbsp;</td>
          <td class="paramname"> <em>node</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The Manifest Element (<a href="http://www.w3.org/TR/xmldsig-core/#sec-Manifest">http://www.w3.org/TR/xmldsig-core/#sec-Manifest</a>)</p>
<p>The Manifest element provides a list of References. The difference from the list in SignedInfo is that it is application defined which, if any, of the digests are actually checked against the objects referenced and what to do if the object is inaccessible or the digest compare fails. If a Manifest is pointed to from SignedInfo, the digest over the Manifest itself will be checked by the core result validation behavior. The digests within such a Manifest are checked at the application's discretion. If a Manifest is referenced from another Manifest, even the overall digest of this two level deep Manifest might not be checked.</p>
<p>Schema Definition:</p>
<p>&lt;element name="Manifest" type="ds:ManifestType"&gt; &lt;complexType name="ManifestType"&gt; &lt;sequence&gt; &lt;element ref="ds:Reference" maxoccurs="unbounded"&gt; &lt;/sequence&gt; &lt;attribute name="Id" type="ID" use="optional"&gt; &lt;/complexType&gt;</p>
<p>DTD:</p>
<p>&lt;!ELEMENT Manifest (Reference+) &gt; &lt;!ATTLIST Manifest Id ID IMPLIED &gt; </p>

</div>
</div>
<a class="anchor" id="ac7b3a101c21d2668f124f008c197fe12"></a><!-- doxytag: member="UDSIGContext::processObjectNode" ref="ac7b3a101c21d2668f124f008c197fe12" args="(xmlNodePtr objectNode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UDSIGContext::processObjectNode </td>
          <td>(</td>
          <td class="paramtype">xmlNodePtr&nbsp;</td>
          <td class="paramname"> <em>node</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The Object Element (<a href="http://www.w3.org/TR/xmldsig-core/#sec-Object">http://www.w3.org/TR/xmldsig-core/#sec-Object</a>)</p>
<p>Object is an optional element that may occur one or more times. When present, this element may contain any data. The Object element may include optional MIME type, ID, and encoding attributes.</p>
<p>Schema Definition:</p>
<p>&lt;element name="Object" type="ds:ObjectType"&gt; &lt;complexType name="ObjectType" mixed="true"&gt; &lt;sequence minoccurs="0" maxoccurs="unbounded"&gt; &lt;any namespace="##any" processcontents="lax"&gt; &lt;/sequence&gt; &lt;attribute name="Id" type="ID" use="optional"&gt; &lt;attribute name="MimeType" type="string" use="optional"&gt; &lt;attribute name="Encoding" type="anyURI" use="optional"&gt; &lt;/complexType&gt;</p>
<p>DTD:</p>
<p>&lt;!ELEMENT Object (PCDATA|Signature|SignatureProperties|Manifest Object.ANY;)* &gt; &lt;!ATTLIST Object Id ID IMPLIED MimeType CDATA IMPLIED Encoding CDATA IMPLIED &gt; </p>

</div>
</div>
<a class="anchor" id="af64920180839b97c07812bb038a2a2cd"></a><!-- doxytag: member="UDSIGContext::processSignatureNode" ref="af64920180839b97c07812bb038a2a2cd" args="(xmlNodePtr signature)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UDSIGContext::processSignatureNode </td>
          <td>(</td>
          <td class="paramtype">xmlNodePtr&nbsp;</td>
          <td class="paramname"> <em>signature</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The Signature element (<a href="http://www.w3.org/TR/xmldsig-core/#sec-Signature">http://www.w3.org/TR/xmldsig-core/#sec-Signature</a>)</p>
<p>The Signature element is the root element of an XML Signature. Implementation MUST generate laxly schema valid [XML-schema] Signature elements as specified by the following schema: The way in which the SignedInfo element is presented to the canonicalization method is dependent on that method. The following applies to algorithms which process XML as nodes or characters:</p>
<ul>
<li>XML based canonicalization implementations MUST be provided with a [XPath] node-set originally formed from the document containing the SignedInfo and currently indicating the SignedInfo, its descendants, and the attribute and namespace nodes of SignedInfo and its descendant elements.</li>
</ul>
<ul>
<li>Text based canonicalization algorithms (such as CRLF and charset normalization) should be provided with the UTF-8 octets that represent the well-formed SignedInfo element, from the first character to the last character of the XML representation, inclusive. This includes the entire text of the start and end tags of the SignedInfo element as well as all descendant markup and character data (i.e., the text) between those tags. Use of text based canonicalization of SignedInfo is NOT RECOMMENDED.</li>
</ul>
<p>================================= we do not support any non XML based C14N</p>
<p>Schema Definition:</p>
<p>&lt;element name="Signature" type="ds:SignatureType"&gt; &lt;complexType name="SignatureType"&gt; &lt;sequence&gt; &lt;element ref="ds:SignedInfo"&gt; &lt;element ref="ds:SignatureValue"&gt; &lt;element ref="ds:KeyInfo" minoccurs="0"&gt; &lt;element ref="ds:Object" minoccurs="0" maxoccurs="unbounded"&gt; &lt;/sequence&gt; &lt;attribute name="Id" type="ID" use="optional"&gt; &lt;/complexType&gt;</p>
<p>DTD:</p>
<p>&lt;!ELEMENT Signature (SignedInfo, SignatureValue, KeyInfo?, Object*) &gt; &lt;!ATTLIST Signature xmlns CDATA FIXED 'http://www.w3.org/2000/09/xmldsig#' Id ID IMPLIED &gt; </p>

</div>
</div>
<a class="anchor" id="a4b7028c13cef199ff53b5d7ff5e9f7a8"></a><!-- doxytag: member="UDSIGContext::processSignedInfoNode" ref="a4b7028c13cef199ff53b5d7ff5e9f7a8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UDSIGContext::processSignedInfoNode </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The SignedInfo Element (<a href="http://www.w3.org/TR/xmldsig-core/#sec-SignedInfo">http://www.w3.org/TR/xmldsig-core/#sec-SignedInfo</a>)</p>
<p>The structure of SignedInfo includes the canonicalization algorithm, a result algorithm, and one or more references. The SignedInfo element may contain an optional ID attribute that will allow it to be referenced by other signatures and objects.</p>
<p>SignedInfo does not include explicit result or digest properties (such as calculation time, cryptographic device serial number, etc.). If an application needs to associate properties with the result or digest, it may include such information in a SignatureProperties element within an Object element.</p>
<p>Schema Definition:</p>
<p>&lt;element name="SignedInfo" type="ds:SignedInfoType"&gt; &lt;complexType name="SignedInfoType"&gt; &lt;sequence&gt; &lt;element ref="ds:CanonicalizationMethod"&gt; &lt;element ref="ds:SignatureMethod"&gt; &lt;element ref="ds:Reference" maxoccurs="unbounded"&gt; &lt;/sequence&gt; &lt;attribute name="Id" type="ID" use="optional"&gt; &lt;/complexType&gt;</p>
<p>DTD:</p>
<p>&lt;!ELEMENT SignedInfo (CanonicalizationMethod, SignatureMethod, Reference+) &gt; &lt;!ATTLIST SignedInfo Id ID IMPLIED&gt; </p>

</div>
</div>
<a class="anchor" id="aa089cd3eee7389f4d7102a04b4b0c4e5"></a><!-- doxytag: member="UDSIGContext::verify" ref="aa089cd3eee7389f4d7102a04b4b0c4e5" args="(UXML2Document &amp;document)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UDSIGContext::verify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classUXML2Document.html">UXML2Document</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>document</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Validates signature in the document.</p>
<p>The verification result is returned in status member of the object.</p>
<p>Returns: true on success </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/ulib/xml/libxml2/<a class="el" href="context_8h_source.html">context.h</a></li>
<li>src/ulib/xml/libxml2/context.cpp</li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Tue Feb 2 20:00:50 2010 for ULib C++ Library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
