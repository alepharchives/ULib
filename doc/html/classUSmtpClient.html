<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ULib C++ Library: USmtpClient Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>USmtpClient Class Reference</h1><!-- doxytag: class="USmtpClient" --><!-- doxytag: inherits="UTCPSocket" -->
<p>Creates and manages a client connection with a remote SMTP server.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="smtp_8h_source.html">smtp.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for USmtpClient:</div>
<div class="dynsection">
<div class="center"><img src="classUSmtpClient__inherit__graph.png" border="0" usemap="#USmtpClient_inherit__map" alt="Inheritance graph"/></div>
<map name="USmtpClient_inherit__map" id="USmtpClient_inherit__map">
<area shape="rect" id="node2" href="classUTCPSocket.html" title="UTCPSocket" alt="" coords="5,83,96,111"/><area shape="rect" id="node4" href="classUSocket.html" title="basic IP socket functionality" alt="" coords="17,6,84,34"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for USmtpClient:</div>
<div class="dynsection">
<div class="center"><img src="classUSmtpClient__coll__graph.png" border="0" usemap="#USmtpClient_coll__map" alt="Collaboration graph"/></div>
<map name="USmtpClient_coll__map" id="USmtpClient_coll__map">
<area shape="rect" id="node2" href="classUTCPSocket.html" title="UTCPSocket" alt="" coords="80,675,171,703"/><area shape="rect" id="node4" href="classUSocket.html" title="basic IP socket functionality" alt="" coords="177,522,244,550"/><area shape="rect" id="node6" href="classUIPAddress.html" title="UIPAddress" alt="" coords="219,266,304,294"/><area shape="rect" id="node8" href="classUString.html" title="UString" alt="" coords="44,99,108,127"/><area shape="rect" id="node11" href="classUStringRep.html" title="UStringRep" alt="" coords="33,6,119,34"/><area shape="rect" id="node14" href="unionuupcAddress.html" title="uupcAddress" alt="" coords="216,99,307,127"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classUSmtpClient-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><b>SMTPClientStatus</b> { <br/>
&nbsp;&nbsp;<b>INIT</b> =  50, 
<b>LOG_IN</b> =  100, 
<b>READY</b> =  150, 
<b>SENTFROM</b> =  200, 
<br/>
&nbsp;&nbsp;<b>SENTTO</b> =  250, 
<b>DATA</b> =  300, 
<b>FINISHED</b> =  350, 
<b>QUIT</b> =  400, 
<br/>
&nbsp;&nbsp;<b>LOG_OUT</b> =  450, 
<b>CERROR</b> =  500
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><b>SMTPServerStatus</b> { <br/>
&nbsp;&nbsp;<b>NONE</b> =  0, 
<b>CONNREFUSED</b> =  1, 
<b>GREET</b> =  220, 
<b>GOODBYE</b> =  221, 
<br/>
&nbsp;&nbsp;<b>SUCCESSFUL</b> =  250, 
<b>READYDATA</b> =  354, 
<b>UNAVAILABLE</b> =  450, 
<b>ERR_PROCESSING</b> =  451, 
<br/>
&nbsp;&nbsp;<b>INSUFFICIENT_SYSTEM_STORAGE</b> =  452, 
<b>SERROR</b> =  501, 
<b>BAD_SEQUENCE_OF_COMMAND</b> =  503, 
<b>NOT_IMPLEMENT</b> =  504, 
<br/>
&nbsp;&nbsp;<b>MAILBOX_UNAVAILABLE</b> =  550, 
<b>EXCEED_STORAGE_ALLOCATION</b> =  552, 
<b>MAILBOX_NAME_NOT_ALLOWED</b> =  553, 
<b>TRANSACTION_FAILED</b> =  554
<br/>
 }</td></tr>
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUSmtpClient.html#a3b329ac9f3136c153d580ae241e89f72">USmtpClient</a> (bool bSocketIsIPv6=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUSmtpClient.html#a95bb52008b22cd88841da3e8d15f7803">connectServer</a> (<a class="el" href="classUFileConfig.html">UFileConfig</a> &amp;file, int port=25, uint32_t timeout=U_TIMEOUT)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a548c5b75b8fd2b11ea2aaa519932c442"></a><!-- doxytag: member="USmtpClient::connectServer" ref="a548c5b75b8fd2b11ea2aaa519932c442" args="(const UString &amp;server, int port=25, uint32_t timeout=U_TIMEOUT)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>connectServer</b> (const <a class="el" href="classUString.html">UString</a> &amp;server, int port=25, uint32_t timeout=U_TIMEOUT)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUSmtpClient.html#a393abf99b8e965dab48cbb2b60edcab8">status</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9d236605a18a60d243cf86a5c22cfabf"></a><!-- doxytag: member="USmtpClient::getSenderAddress" ref="a9d236605a18a60d243cf86a5c22cfabf" args="() const " -->
<a class="el" href="classUString.html">UString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>getSenderAddress</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a40ee54b6c89dc4de1da611300a68a5c8"></a><!-- doxytag: member="USmtpClient::getRecipientAddress" ref="a40ee54b6c89dc4de1da611300a68a5c8" args="() const " -->
<a class="el" href="classUString.html">UString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>getRecipientAddress</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0c261e9f8a6c10769c83c1cd3e1716bd"></a><!-- doxytag: member="USmtpClient::startTLS" ref="a0c261e9f8a6c10769c83c1cd3e1716bd" args="()" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>startTLS</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a34415f297106591f75ee4b5106425197"></a><!-- doxytag: member="USmtpClient::sendMessage" ref="a34415f297106591f75ee4b5106425197" args="(bool secure=false)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>sendMessage</b> (bool secure=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a822d16d815d6d5295caa281cda446379"></a><!-- doxytag: member="USmtpClient::setDomainName" ref="a822d16d815d6d5295caa281cda446379" args="(const UString &amp;name)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>setDomainName</b> (const <a class="el" href="classUString.html">UString</a> &amp;name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a12305f28d2e23acaf6f699624771a03a"></a><!-- doxytag: member="USmtpClient::setMessageBody" ref="a12305f28d2e23acaf6f699624771a03a" args="(const UString &amp;message)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>setMessageBody</b> (const <a class="el" href="classUString.html">UString</a> &amp;message)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8a7fe1295bf9eef90de830d7d033040f"></a><!-- doxytag: member="USmtpClient::setMessageHeader" ref="a8a7fe1295bf9eef90de830d7d033040f" args="(const UString &amp;header)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>setMessageHeader</b> (const <a class="el" href="classUString.html">UString</a> &amp;header)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac2975735d8938555ad42b958c5aa88e2"></a><!-- doxytag: member="USmtpClient::setSenderAddress" ref="ac2975735d8938555ad42b958c5aa88e2" args="(const UString &amp;sender)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>setSenderAddress</b> (const <a class="el" href="classUString.html">UString</a> &amp;sender)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a532777aa05d7a6c54340e163a0d639c0"></a><!-- doxytag: member="USmtpClient::setMessageSubject" ref="a532777aa05d7a6c54340e163a0d639c0" args="(const UString &amp;subject)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>setMessageSubject</b> (const <a class="el" href="classUString.html">UString</a> &amp;subject)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9519dff60c007b7aa4b05f0a75d40b6f"></a><!-- doxytag: member="USmtpClient::setRecipientAddress" ref="a9519dff60c007b7aa4b05f0a75d40b6f" args="(const UString &amp;recipient)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>setRecipientAddress</b> (const <a class="el" href="classUString.html">UString</a> &amp;recipient)</td></tr>
<tr><td colspan="2"><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4c7599ca4a6828740f436fd577f4f3a3"></a><!-- doxytag: member="USmtpClient::str_allocate" ref="a4c7599ca4a6828740f436fd577f4f3a3" args="()" -->
static void&nbsp;</td><td class="memItemRight" valign="bottom"><b>str_allocate</b> ()</td></tr>
<tr><td colspan="2"><h2>Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a24194ca69e7f2934f9f4fe6d4cd41031"></a><!-- doxytag: member="USmtpClient::str_empty" ref="a24194ca69e7f2934f9f4fe6d4cd41031" args="" -->
static const <a class="el" href="classUString.html">UString</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>str_empty</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1e4d8fd0350f33325560084a9c7273fe"></a><!-- doxytag: member="USmtpClient::str_address" ref="a1e4d8fd0350f33325560084a9c7273fe" args="" -->
static const <a class="el" href="classUString.html">UString</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>str_address</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aba46bb6e03a040fd13f8c76b8d56d18e"></a><!-- doxytag: member="USmtpClient::str_subject" ref="aba46bb6e03a040fd13f8c76b8d56d18e" args="" -->
static const <a class="el" href="classUString.html">UString</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>str_subject</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2095567d42a677e8a905b478fdcf5dba"></a><!-- doxytag: member="USmtpClient::str_domainName" ref="a2095567d42a677e8a905b478fdcf5dba" args="" -->
static const <a class="el" href="classUString.html">UString</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>str_domainName</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac2aa08e0b14b9f1cb674c94e1b785da9"></a><!-- doxytag: member="USmtpClient::str_TO_ADDRESS" ref="ac2aa08e0b14b9f1cb674c94e1b785da9" args="" -->
static const <a class="el" href="classUString.html">UString</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>str_TO_ADDRESS</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5194eb551ba2824fa6b1d6f070177f55"></a><!-- doxytag: member="USmtpClient::str_SMTP_SERVER" ref="a5194eb551ba2824fa6b1d6f070177f55" args="" -->
static const <a class="el" href="classUString.html">UString</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>str_SMTP_SERVER</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ada6b8a1acbf22e98600d02d314ba808e"></a><!-- doxytag: member="USmtpClient::str_SENDER_ADDRESS" ref="ada6b8a1acbf22e98600d02d314ba808e" args="" -->
static const <a class="el" href="classUString.html">UString</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>str_SENDER_ADDRESS</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a571fc7e0e7356ef26b70432c7a7e31a4"></a><!-- doxytag: member="USmtpClient::str_REPLY_TO_ADDRESS" ref="a571fc7e0e7356ef26b70432c7a7e31a4" args="" -->
static const <a class="el" href="classUString.html">UString</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>str_REPLY_TO_ADDRESS</b></td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a500a94ffb379518e73bebb8c9609c64d"></a><!-- doxytag: member="USmtpClient::domainName" ref="a500a94ffb379518e73bebb8c9609c64d" args="" -->
<a class="el" href="classUString.html">UString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>domainName</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae1eb63342956eadcae8cb2495d11abd5"></a><!-- doxytag: member="USmtpClient::senderAddress" ref="ae1eb63342956eadcae8cb2495d11abd5" args="" -->
<a class="el" href="classUString.html">UString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>senderAddress</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a89ccb475d2732190f3bff9b2c2fcc262"></a><!-- doxytag: member="USmtpClient::rcptoAddress" ref="a89ccb475d2732190f3bff9b2c2fcc262" args="" -->
<a class="el" href="classUString.html">UString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>rcptoAddress</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afdd07adf04508330c2a5586ce1fad068"></a><!-- doxytag: member="USmtpClient::messageSubject" ref="afdd07adf04508330c2a5586ce1fad068" args="" -->
<a class="el" href="classUString.html">UString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>messageSubject</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae6c61bf1e692c9e340cede8f25f094be"></a><!-- doxytag: member="USmtpClient::messageBody" ref="ae6c61bf1e692c9e340cede8f25f094be" args="" -->
<a class="el" href="classUString.html">UString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>messageBody</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a765f686ffe29cd45052b100962349c5d"></a><!-- doxytag: member="USmtpClient::messageHeader" ref="a765f686ffe29cd45052b100962349c5d" args="" -->
<a class="el" href="classUString.html">UString</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>messageHeader</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4a4afe759a59e7400a4431f040c3f612"></a><!-- doxytag: member="USmtpClient::state" ref="a4a4afe759a59e7400a4431f040c3f612" args="" -->
SMTPClientStatus&nbsp;</td><td class="memItemRight" valign="bottom"><b>state</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9945e86f8c0adbc2bea597223372317b"></a><!-- doxytag: member="USmtpClient::response" ref="a9945e86f8c0adbc2bea597223372317b" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>response</b></td></tr>
<tr><td colspan="2"><h2>Static Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1facfc89e354ac08e3bf26b5fdd54df6"></a><!-- doxytag: member="USmtpClient::buffer" ref="a1facfc89e354ac08e3bf26b5fdd54df6" args="[128]" -->
static char&nbsp;</td><td class="memItemRight" valign="bottom"><b>buffer</b> [128]</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Creates and manages a client connection with a remote SMTP server. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3b329ac9f3136c153d580ae241e89f72"></a><!-- doxytag: member="USmtpClient::USmtpClient" ref="a3b329ac9f3136c153d580ae241e89f72" args="(bool bSocketIsIPv6=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">USmtpClient::USmtpClient </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>bSocketIsIPv6</em> = <code>false</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructs a new <a class="el" href="classUSmtpClient.html" title="Creates and manages a client connection with a remote SMTP server.">USmtpClient</a> with default values for all properties </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a95bb52008b22cd88841da3e8d15f7803"></a><!-- doxytag: member="USmtpClient::connectServer" ref="a95bb52008b22cd88841da3e8d15f7803" args="(UFileConfig &amp;file, int port=25, uint32_t timeout=U_TIMEOUT)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool USmtpClient::connectServer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classUFileConfig.html">UFileConfig</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>port</em> = <code>25</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>timeout</em> = <code>U_TIMEOUT</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>function called to established a socket connection with the SMTP network server </p>

</div>
</div>
<a class="anchor" id="a393abf99b8e965dab48cbb2b60edcab8"></a><!-- doxytag: member="USmtpClient::status" ref="a393abf99b8e965dab48cbb2b60edcab8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * USmtpClient::status </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Execute an smtp transaction </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/ulib/net/client/<a class="el" href="smtp_8h_source.html">smtp.h</a></li>
<li>src/ulib/net/client/smtp.cpp</li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Tue Mar 30 16:32:00 2010 for ULib C++ Library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
