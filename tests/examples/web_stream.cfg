## -------------------------------------------------------------------------------
## userver - configuration parameters
## -------------------------------------------------------------------------------

userver {

#include "userver.cfg"

   RUN_AS_USER apache

   USE_TCP_OPTIMIZATION yes

   REQ_TIMEOUT    60
   PREFORK_CHILD   1
   MAX_KEEP_ALIVE  5

   LOG_FILE  web_stream.log

   PLUGIN   "mod_stream mod_http"
}

# ------------------------------------------------------------------------------------------------------------------------------------------------
# mod_stream - plugin parameters
# ------------------------------------------------------------------------------------------------------------------------------------------------
# COMMAND                      command to execute
# ENVIRONMENT  environment for command to execute
#
# URI_PATH     specifies the local part of the URL path at which you would like the content to appear (Ex. /my/video.ogv)
# METADATA     specifies the needs to have setup headers prepended for each codec stream (Ex. /my/audio.ogg)
# CONTENT_TYPE specifies the Internet media type of the stream, which will appear in the Content-Type HTTP response header
# ------------------------------------------------------------------------------------------------------------------------------------------------

mod_stream {

#  ENVIRONMENT   "\"UTRACE=0 5M 0\""
   COMMAND       my_stream.sh

   URI_PATH      /my/stream
   METADATA      /tmp/metadata
   CONTENT_TYPE  text/plain
#  CONTENT_TYPE  "multipart/x-mixed-replace; boundary=++++++++"
}

## ------------------------------------------------------------------------------------------------------------------------------------------------
## mod_http - plugin parameters
## ------------------------------------------------------------------------------------------------------------------------------------------------

#include "mod_http.cfg"
