## ---------------------------------------------------------------------------------------------------------------------------------
## mod_proxy - plugin parameters
## ---------------------------------------------------------------------------------------------------------------------------------
## ERROR MESSAGE      Allows you to tell clients about what type of error occurred
##
## URI                uri trigger
## HOST               name host client
## METHOD_NAME        what type of HTTP method is considered (GET|HEAD|POST)
## CLIENT_CERTIFICATE if yes client must comunicate a certificate in the SSL connection
## PORT               port of server for connection
## SERVER             name of server for connection
## COMMAND            command to execute
## ENVIRONMENT        environment for command to execute
## RESPONSE_TYPE      output type of the command (yes = response for client, no = request to server)
## FOLLOW_REDIRECTS   if yes manage to automatically follow redirects from server
## USER               if       manage to follow redirects, in response to a HTTP_UNAUTHORISED response from the HTTP server: user
## PASSWORD           if       manage to follow redirects, in response to a HTTP_UNAUTHORISED response from the HTTP server: password
## REPLACE_RESPONSE   if NOT manage to follow redirects, vector of substitution string
## ---------------------------------------------------------------------------------------------------------------------------------

mod_proxy {

   ## ---------------------------------------------------------------------------
   ## ERROR MESSAGE: Allows you to tell clients about what type of error occurred
   ## ---------------------------------------------------------------------------
// #include mod_proxy_err_msg.cfg

   Service_WAYF {

   URI         ^/(WAYF/?|SWITCHaai/images/.*\.gif$)
   HOST        localhost:444
## METHOD_NAME GET|POST

## CLIENT_CERTIFICATE yes

## PORT     80
   SERVER   localhost

   ## la redirect chiede di nuovo al proxy (444)...!!!
## FOLLOW_REDIRECTS  no
   }

   Service_IDP {

   URI         ^/shibboleth-idp/SSO
   HOST        localhost:444
   METHOD_NAME GET

## PORT     80
   SERVER   laptop

   FOLLOW_REDIRECTS yes

   ## In response to a HTTP_UNAUTHORISED response from the HTTP server,
   ## obtain a user and password for the scheme/realm returned from the HTTP server
   USER     user01
   PASSWORD stefano1
   }

   /*
   Service_webmail_login {

   URI         ^/webmail/src/login.php$
   HOST        localhost
## METHOD_NAME GET|POST

   ENVIRONMENT "USERNAME=l.ghivizzani12@eraclito.unirel.test \
                PASSWORD=sandra"

   COMMAND     cgi-bin/printenv.sh

   ## response to client...
   RESPONSE_TYPE yes
   }

   Service_webmail {

   URI         /webmail
   HOST        localhost
## METHOD_NAME GET|POST

## PORT     80
   SERVER   ca.eraclito.unirel.test

   ## only if NOT manage to follow redirects - CARACTER <"> NEED TO BE QUOTED !!!
   REPLACE_RESPONSE "[ \"Location: http:\" \"Location: https:\" ]"
   }

   Service_gmail {

## URI         *
   HOST        laptop
## METHOD_NAME GET|POST

## PORT     80
   SERVER   gmail.google.com
   }
   */
}
